# Réécriture d'URL pour le module d'authentification
RewriteEngine On

# Route register -> register.php
RewriteRule ^register$ register.php [L]

# Route login -> login.php  
RewriteRule ^login$ login.php [L]

# Route register/ -> register.php
RewriteRule ^register/$ register.php [L]

# Route login/ -> login.php
RewriteRule ^login/$ login.php [L]

# Route register/(.*) -> register.php
RewriteRule ^register/(.*)$ register.php [L]

# Route login/(.*) -> login.php
RewriteRule ^login/(.*)$ login.php [L]

# Gestion des en-têtes CORS
<IfModule mod_headers.c>
    Header always set Access-Control-Allow-Origin "*"
    Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    Header always set Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With"
</IfModule>

# Gestion des requêtes OPTIONS
<IfModule mod_rewrite.c>
    RewriteCond %{REQUEST_METHOD} OPTIONS
    RewriteRule ^(.*)$ index.php [L]
</IfModule>
